<!DOCTYPE html>
<html lang="en" class="">

<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <!-- Required meta tags -->

   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <title>Create Project</title>
   <!-- Favicon -->
   <link rel="shortcut icon" href="https://iqonicthemes.com/themes/vizion/chatbot/images/favicon.ico">
   <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
   <!-- Typography CSS -->
   <link rel="stylesheet" href="{{ url_for('static', filename='css/typography.css') }}">
   <!-- Style CSS -->
   <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
   <!-- Responsive CSS -->
   <link rel="stylesheet" href="{{ url_for('static', filename='css/response.css') }}">


    <style type="text/css">
@keyframes ldio-nhyhy7p63em {
  0% { transform: translate(-50%,-50%) rotate(0deg); }
  100% { transform: translate(-50%,-50%) rotate(360deg); }
}
.ldio-nhyhy7p63em div {
  position: absolute;
  width: 128.05px;
  height: 128.05px;
  border: 5.91px solid #0f93f3;
  border-top-color: transparent;
  border-radius: 50%;
}
.ldio-nhyhy7p63em div {
  animation: ldio-nhyhy7p63em 1.5384615384615383s linear infinite;
  top: 98.5px;
  left: 98.5px
}
.loadingio-spinner-rolling-2hx7brpslj2 {
  width: 197px;
  height: 197px;
  display: inline-block;
  overflow: hidden;
  background: rgba(NaN, NaN, NaN, 0);
}
.ldio-nhyhy7p63em {
  width: 100%;
  height: 100%;
  position: relative;
  transform: translateZ(0) scale(1);
  backface-visibility: hidden;
  transform-origin: 0 0; /* see note above */
}
.ldio-nhyhy7p63em div { box-sizing: content-box; }
/* generated by https://loading.io/ */
</style>



</head>

<body class=" app-no-scrollbar" style="background-image: url({{ url_for('static', filename='img/BG.png')}});background-size: 100%;">

   <div class="container" style="text-align: center;margin-top:100px;">
      <div class="col-lg-6 col-md-12 col-sm-12 r-mt3 form-background" style="display: inline-block;">
         <form style="border-color:transparent;background-color: #f5f5f5;padding-bottom: 50px;" method="POST" action="/create_project/" onsubmit="return validateProjectName()"  accept-charset="utf-8">
            <h2>Platinum Business Analytics</h2>
            <div id="project_form" class="form-group" style="margin-top:50px;">
               <input id="project_name_input" name="project_name" class="form-control" placeholder="Enter project name" type="text" required><br>
               <select name="project_category" class="form-control" required>
                  <option value="General">Google</option>
                  <option value="Product">Amazon</option>
                  <option value="Movie">Rotten Tomatoes</option>
               </select>
               <br>
               <input id="project_query_input" name="query" class="form-control" placeholder="Enter url or keyword here..." type="text" required><br>
                {% if is_duplicate == true %}
                    <div class="error wrong-data">Project with this name already exist!</div>
                {% endif %}
                {% if invalid_reviews_url == true %}
                    <div class="error wrong-data">Invalid url!</div>
                {% endif %}
                {% if invalid_search_query == true %}
                    <div class="error wrong-data">No google results found!</div>
                {% endif %}
                <div id="blank_message" class="error wrong-data" style="display: none">Blank fields are not allowed!</div>
                <div id="regex_message" class="error wrong-data" style="display: none">Project name can have only alphanumeric and spaces!</div>
                <input id="create_project_btn" type="submit" class="blue-button form-control" value="Create Project">

            </div>
            <div id="loading_div" style="display: none;margin-top: 20px;">
                <div class="loadingio-spinner-rolling-2hx7brpslj2"><div class="ldio-nhyhy7p63em">
                <div></div>
                </div></div>
                <h3 style="margin-top: 4px;">Creating Project...</h3>
                <h5 style="margin-top: 1px;">This might take some time..</h5>

            </div>


         </form>
      </div>

   </div>
   </div>




   <!-- jQuery first, then Popper.js, then Bootstrap JS -->
   <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
   <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
   <!-- main -->
   <script src="{{ url_for('static', filename='js/main.js') }}"></script>
   <!-- Custom -->
   <script src="{{ url_for('static', filename='js/custom.js') }}"></script>

    <script>
        $(document).ready(function () {
            /*$("#create_project_btn").click(function(){
                $("#blank_message").css("display", "none");
                if($("#project_name_input").text() != "" && $("#project_query_input").text() != ""){
                    $("#project_form").css("display", "none");
                    $("#loading_div").css("display", "block");
                }
                else{
                    $("#blank_message").css("display", "block");
                }

            });*/
            $("#loading_div").css("display", "none");

        });
        function validateProjectName(){
            //alert("Calling validateProjectName");


                if($("#project_name_input").val() != "" && $("#project_query_input").val() != ""){
                    $("#project_form").css("display", "none");
                    $("#loading_div").css("display", "block");
                    //alert("Fields not empty");
                    if($("#project_name_input").val().match(/^[a-zA-Z0-9 ]*$/)){
                    $("#project_form").css("display", "none");
                    $("#loading_div").css("display", "block");
                    //alert("Regex match");
                    return true;
                    }
                    else{
                        $("#project_form").css("display", "block");
                        $("#loading_div").css("display", "none");
                        //alert("Regex don't match");
                    $("#regex_message").css("display", "block");
                    return false;

                    }
                }
                else{
                    $("#project_form").css("display", "block");
                    $("#loading_div").css("display", "none");
                    //alert("Fields are blank");
                    $("#blank_message").css("display", "block");
                    return false;
                }
                return true;
        }

        $("#create_project_btn").click(
        function() {
            console.log("clicked...waiting...");

            setTimeout(
                function() {
                    $("#loading_div").css("display", "none");
                },
                62000);
    });

    </script>

</body>



</html>